(this.webpackJsonptodolist=this.webpackJsonptodolist||[]).push([[0],{50:function(e,t,n){e.exports=n(79)},55:function(e,t,n){},61:function(e,t,n){},62:function(e,t,n){},69:function(e,t,n){},70:function(e,t,n){},71:function(e,t,n){},72:function(e,t,n){},73:function(e,t,n){},74:function(e,t,n){},75:function(e,t,n){},76:function(e,t,n){},77:function(e,t,n){},78:function(e,t,n){},79:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(30),s=n.n(c),u=n(25),i=(n(55),n(3)),o=n.n(i),l=n(8),m=n(6),d=n(16),p=n(17),f=n(19),h=n(18),b=n(4),v=n(12);n(61),n(62);function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function E(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var x=r.a.createElement("title",null,"Group"),y=r.a.createElement("desc",null,"Created with Sketch."),w=r.a.createElement("g",{id:"WiP",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},r.a.createElement("g",{id:"Artboard",transform:"translate(-90.000000, -38.000000)"},r.a.createElement("g",{id:"Group",transform:"translate(90.000000, 38.000000)"},r.a.createElement("polygon",{id:"Rectangle",fill:"#808282",points:"3 14 25 26.5 47 14 40.855176 39 9.08421785 39"}),r.a.createElement("polygon",{id:"Triangle",fillOpacity:.262838724,fill:"#101A1A",points:"25 8 40 39 10 39"}),r.a.createElement("circle",{id:"Oval",fill:"#5E6363",cx:2,cy:9,r:2}),r.a.createElement("circle",{id:"Oval",fill:"#5E6363",cx:25,cy:2,r:2}),r.a.createElement("circle",{id:"Oval",fill:"#5E6363",cx:48,cy:9,r:2})))),O=function(e){var t=e.svgRef,n=e.title,a=E(e,["svgRef","title"]);return r.a.createElement("svg",g({width:"50px",height:"39px",viewBox:"0 0 50 39",ref:t},a),void 0===n?x:n?r.a.createElement("title",null,n):null,y,w)},j=r.a.forwardRef((function(e,t){return r.a.createElement(O,g({svgRef:t},e))})),k=(n.p,n(26)),C=n.n(k),N=(n(63),n(66),function(){var e=Object(m.a)(o.a.mark((function e(t,n){var a,r,c,s,u,i,m,d,p;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return a=R.doc("users/".concat(t.uid)),e.next=5,a.get();case 5:if(e.sent.exists){e.next=19;break}return r=t.displayName,c=t.email,s=new Date,e.prev=9,e.next=12,a.set(Object(l.a)({displayName:r,email:c,createdAt:s},n));case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(9),console.log("error creating user",e.t0.message);case 17:e.next=33;break;case 19:return u=R.collection("users/".concat(t.uid,"/lista/")),e.next=22,u.get().then((function(e){return e.docs.map((function(e){return e.data()}))}));case 22:return i=e.sent,m=t.displayName,d=t.email,p=new Date,e.prev=25,e.next=28,a.set(Object(l.a)({displayName:m,email:d,createdAt:p,lista:i},n));case 28:e.next=33;break;case 30:e.prev=30,e.t1=e.catch(25),console.log("error creating user",e.t1.message);case 33:return e.abrupt("return",a);case 34:case"end":return e.stop()}}),e,null,[[9,14],[25,30]])})));return function(t,n){return e.apply(this,arguments)}}()),S=function(){var e=Object(m.a)(o.a.mark((function e(t,n,a,r){var c,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=String((new Date).getTime()),s={text:n,id:c,createdAt:c},e.next=4,R.collection("users/".concat(t.uid,"/lista")).doc(c).set(s).then(Object(m.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("item added!");case 1:case"end":return e.stop()}}),e)})))).catch((function(e){console.log(e)}));case 4:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),U=function(){var e=Object(m.a)(o.a.mark((function e(t,n){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={text:n.text,id:n.id,createdAt:n.id},e.next=3,R.collection("users/".concat(t.uid,"/lista")).doc(n.id).set(a).then((function(e){return e.val()})).catch((function(e){return{errorCode:e.code,errorMessage:e.message}}));case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),A=function(){var e=Object(m.a)(o.a.mark((function e(t,n){var a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=new Date,r={completed:a},0===t){e.next=8;break}return e.next=5,R.collection("users/".concat(t.uid,"/lista")).doc(n.id).update(r).then((function(e){return e.val()})).catch((function(e){return{errorCode:e.code,errorMessage:e.message}}));case 5:return e.abrupt("return",e.sent);case 8:return"4hYmPE0ZvhPoHA0kYJaQu8KdrCs2",e.next=11,R.collection("users/".concat("4hYmPE0ZvhPoHA0kYJaQu8KdrCs2","/lista/")).doc(n.id).update(r).then((function(e){console.log("snap",e),e.val()})).catch((function(e){return{errorCode:e.code,errorMessage:e.message}}));case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),I=function(){var e=Object(m.a)(o.a.mark((function e(t){var n,a,r,c,s,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",0);case 2:return n=R.doc("users/".concat(t.uid)),a=R.collection("users/".concat(t.uid,"/lista/")),e.next=6,a.get().then((function(e){return e.docs.map((function(e){return e.data()}))}));case 6:return r=e.sent,c=t.displayName,s=t.email,u=new Date,e.prev=9,e.next=12,n.set({displayName:c,email:s,createdAt:u,lista:r});case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(9),console.log("error creating user",e.t0.message);case 17:case"end":return e.stop()}}),e,null,[[9,14]])})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(m.a)(o.a.mark((function e(t,n){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=R.collection("users/".concat(t.uid,"/lista/")),e.next=3,a.doc(n.id).delete().then((function(){console.log("Item removed!")})).catch((function(e){return e}));case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),D=function(){var e=Object(m.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=R.collection("users"),e.abrupt("return",t.get().then((function(e){return e.docs[0].data()})));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();C.a.initializeApp({apiKey:"AIzaSyDuHTtUoxaEUp7Bc05pmaDE6Quukvp0k1A",authDomain:"udemy-crown-41095.firebaseapp.com",databaseURL:"https://udemy-crown-41095.firebaseio.com",projectId:"udemy-crown-41095",storageBucket:"udemy-crown-41095.appspot.com",messagingSenderId:"468641248743",appId:"1:468641248743:web:f2b938d84adb228955f942",measurementId:"G-H9HBJ6PSFX"});var L=C.a.auth(),R=C.a.firestore(),T=new C.a.auth.GoogleAuthProvider;T.setCustomParameters({prompt:"select_account"});var G=function(){return L.signInWithPopup(T)},M=(C.a,n(10)),W=Object(M.a)([function(e){return e.user}],(function(e){return e.currentUser})),_=Object(M.b)({currentUser:W}),q=Object(v.b)(_)((function(e){e.currentUser,e.hidden;return r.a.createElement("div",{className:"header"},r.a.createElement(u.b,{className:"logo-container",to:"/"},r.a.createElement(j,{className:"logo"})),r.a.createElement("div",{className:"options"}))})),H="SET_CURRENT_USER",J="ADD_USER_ITEM",K="DELETE_USER_ITEM",Y=function(e){return{type:H,payload:e}},B=(n(69),n(37)),F=(n(70),function(e){var t=e.children,n=e.isGoogleSignIn,a=e.inverted,c=e.danger,s=e.success,u=Object(B.a)(e,["children","isGoogleSignIn","inverted","danger","success"]);return r.a.createElement("button",Object.assign({className:" ".concat(a?"inverted":""," ").concat(c?"danger":""," ").concat(s?"success":""," ").concat(n?"google-sign-in":""," custom-button")},u),t)}),Q=n(93),Z="SET_CURRENT_LIST",z=function(e){return{type:Z,payload:e}},V=Object(M.a)([function(e){return e.list}],(function(e){return e.currentList})),X=function(){var e=Object(m.a)(o.a.mark((function e(t,n){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!L.currentUser){e.next=23;break}a=L.currentUser,e.t0=n,e.next="deleteItem"===e.t0?6:"updateItem"===e.t0?9:"completeItem"===e.t0?12:"Incomplete"===e.t0?15:18;break;case 6:return e.next=8,P(a,t);case 8:return e.abrupt("break",19);case 9:return e.next=11,U(a,t);case 11:return e.abrupt("break",19);case 12:return e.next=14,A(a,t);case 14:return e.abrupt("break",19);case 15:return e.next=17,U(a,t);case 17:return e.abrupt("break",19);case 18:return e.abrupt("return",!1);case 19:return e.next=21,I(a).then((function(e){Y({id:e}),z({id:e})}));case 21:e.next=32;break;case 23:e.t1=n,e.next="completeItem"===e.t1?26:29;break;case 26:return e.next=28,A(0,t);case 28:return e.abrupt("break",30);case 29:return e.abrupt("return",!1);case 30:return e.next=32,I(a).then((function(e){Y({id:e}),z({id:e})}));case 32:e.next=37;break;case 34:e.prev=34,e.t2=e.catch(0),console.error(e.t2);case 37:case"end":return e.stop()}}),e,null,[[0,34]])})));return function(t,n){return e.apply(this,arguments)}}(),$=Object(M.b)({currentUser:W,currentList:V}),ee=Object(v.b)($)((function(e){var t=e.item,n=e.currentUser,a=e.completed;return r.a.createElement("div",{className:" ".concat(a||""," collection-item")},r.a.createElement("div",{className:"collection-footer"},r.a.createElement(Q.a,{item:!0,xs:6},t?r.a.createElement("div",{className:"name"},t.text):""),r.a.createElement(Q.a,{item:!0,sm:6},r.a.createElement("div",{className:"inline-buttons"},n?r.a.createElement("div",null,r.a.createElement(F,{danger:!0,onClick:function(){return X(t,"deleteItem")}},"Delete"),r.a.createElement(F,{danger:!0,onClick:function(){return X(t,"Incomplete")}},"Incomplete")):"",t.completed?r.a.createElement("h2",null,"Vamos ter esse!"):r.a.createElement(F,{success:!0,onClick:function(){return X(t,"completeItem")}},"Escolher")))))})),te=(n(71),n(21)),ne=(n(72),n(73),function(e){var t=e.handleChange,n=e.label,a=Object(B.a)(e,["handleChange","label"]);return r.a.createElement("div",{className:"group"},r.a.createElement("input",Object.assign({className:"form-input",onChange:t},a)),n?r.a.createElement("label",{className:"".concat(a.value.length?"shrink":""," form-input-label")},n):null)}),ae=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).handleSubmit=function(){var e=Object(m.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,n=L.currentUser,e.next=5,S(n,a.state.text,a.state.title,a.state.date);case 5:return a.setState({}),e.next=8,I(n).then((function(e){console.log(e),Y(Object(l.a)({},e.data()))}));case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),a.handleChange=function(e){var t=e.target,n=t.value,r=t.name;a.setState(Object(te.a)({},r,n))},a.state={text:"",title:"",date:""},a}return Object(p.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"new-task"},r.a.createElement("h2",null,"Create a new task"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(ne,{name:"title",type:"text",label:"Title",handleChange:this.handleChange,value:this.state.title,required:!0}),r.a.createElement(ne,{name:"text",type:"text",label:"Name",handleChange:this.handleChange,value:this.state.text,required:!0}),r.a.createElement("div",{className:"buttons"},r.a.createElement(F,{inverted:!0,type:"submit"},"Add Task"))))}}]),n}(r.a.Component),re=Object(M.b)({currentUser:W}),ce=Object(v.b)(re)((function(e){var t=e.currentUser?e.currentUser.lista:null;return t=t===[]||""===t?null:t,r.a.createElement("div",{className:"todo-page"},e.currentUser?r.a.createElement(ae,null):r.a.createElement(b.a,{to:"../signin"}),r.a.createElement("div",{className:"collection"},r.a.createElement("h2",null,"Tasks"),t?t.map((function(e){return r.a.createElement(ee,{key:e.id,item:e,completed:e.completed?"completed":""})})):r.a.createElement("div",{className:"no-list-div"},r.a.createElement("h2",null,"No tasks available at the moment."))))})),se=(n(74),function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e){var a;Object(d.a)(this,n);(a=t.call(this,e)).props.setCurrentList;return a}return Object(p.a)(n,[{key:"componentWillMount",value:function(){var e=this.props.setCurrentList;D().then((function(t){e(t.lista)}))}},{key:"componentDidMount",value:function(){var e=this.props.setCurrentList;R.collection("users/".concat("4hYmPE0ZvhPoHA0kYJaQu8KdrCs2","/lista/")).onSnapshot((function(t){var n=t.metadata.hasPendingWrites?"Local":"Server";console.log(n," data2 : ",t.docs.map((function(e){return e.data()}))),e(t.docs.map((function(e){return e.data()})))}))}},{key:"render",value:function(){var e=this.props.currentList;return r.a.createElement("div",{className:"public_list"},r.a.createElement("div",{className:"title"},r.a.createElement("h1",null,"Kaique & Nat\xe1lia")),r.a.createElement("div",{className:"collection"},e?e.map((function(e){return r.a.createElement(ee,{key:e.id,item:e,completed:e.completed?"completed":""})})):r.a.createElement("div",{className:"no-list-div"})))}}]),n}(r.a.Component)),ue=Object(M.b)({currentList:V}),ie=Object(v.b)(ue,(function(e){return{setCurrentList:function(t){return e(z(t))}}}))(se),oe=(n(75),n(95)),le=n(96),me=Object(oe.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(1),textAlign:"center",color:e.palette.text.secondary,square:!1}}})),de=function(){var e=me();return r.a.createElement("div",{className:"footer"},r.a.createElement(Q.a,{container:!0,spacing:3},r.a.createElement(Q.a,{item:!0,xs:!0},r.a.createElement(le.a,{className:e.paper},"Creator: Kaique"))))},pe=(n(76),n(77),function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).handleSubmit=function(){var e=Object(m.a)(o.a.mark((function e(t){var n,r,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=a.state,r=n.email,c=n.password,e.prev=2,e.next=5,L.signInWithEmailAndPassword(r,c);case 5:a.setState({email:"",password:""}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),a.handleChange=function(e){var t=e.target,n=t.value,r=t.name;a.setState(Object(te.a)({},r,n))},a.state={email:"",password:""},a}return Object(p.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"sign-in"},r.a.createElement("h2",null,"Sign In"),r.a.createElement("span",null,"With Email and Password."),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(ne,{name:"email",type:"email",label:"Email",handleChange:this.handleChange,value:this.state.email}),r.a.createElement(ne,{name:"password",type:"password",label:"Password",handleChange:this.handleChange,value:this.state.password}),r.a.createElement("div",{className:"buttons"},r.a.createElement(F,{type:"submit"},"Sign In"),r.a.createElement(F,{onClick:G,isGoogleSignIn:!0},"Sign with Google"))))}}]),n}(r.a.Component)),fe=(n(78),function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(){var e;return Object(d.a)(this,n),(e=t.call(this)).handleSubmit=function(){var t=Object(m.a)(o.a.mark((function t(n){var a,r,c,s,u,i,l;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),a=e.state,r=a.displayName,c=a.email,s=a.password,u=a.confirmPassword,s===u){t.next=5;break}return alert("Password dont match"),t.abrupt("return");case 5:return t.prev=5,t.next=8,L.createUserWithEmailAndPassword(c,s);case 8:return i=t.sent,l=i.user,t.next=12,N(l,{displayName:r});case 12:e.setState({displayName:"",email:"",password:"",confirmPassword:""}),t.next=19;break;case 15:t.prev=15,t.t0=t.catch(5),"auth/email-already-in-use"===t.t0.code&&alert("Email already registered!"),console.error(t.t0);case 19:case"end":return t.stop()}}),t,null,[[5,15]])})));return function(e){return t.apply(this,arguments)}}(),e.handleChange=function(t){var n=t.target,a=n.name,r=n.value;e.setState(Object(te.a)({},a,r))},e.state={displayName:"",email:"",password:"",confirmPassword:""},e}return Object(p.a)(n,[{key:"render",value:function(){var e=this.state,t=e.displayName,n=e.email,a=e.password,c=e.confirmPassword;return r.a.createElement("div",{className:"sign-up"},r.a.createElement("h2",{className:"title"},"Create Account"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(ne,{type:"text",name:"displayName",value:t,onChange:this.handleChange,label:"Nome",required:!0}),r.a.createElement(ne,{type:"text",name:"email",value:n,onChange:this.handleChange,label:"Email",required:!0}),r.a.createElement(ne,{type:"password",name:"password",value:a,onChange:this.handleChange,label:"Password",required:!0}),r.a.createElement(ne,{type:"password",name:"confirmPassword",value:c,onChange:this.handleChange,label:"Confirm your Password",required:!0}),r.a.createElement("div",{className:"buttons"},r.a.createElement(F,{type:"submit"},"SIGN UP"))))}}]),n}(r.a.Component)),he=function(){return r.a.createElement("div",{className:"sign-in-and-sign-up"},r.a.createElement(pe,null),r.a.createElement(fe,null))},be=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).unsubscribeFromAuth=null,e}return Object(p.a)(n,[{key:"componentWillMount",value:function(){var e=this.props.setCurrentUser;this.unsubscribeFromAuth=L.onAuthStateChanged(function(){var t=Object(m.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=5;break}return t.next=3,N(n);case 3:t.sent.onSnapshot({includeMetadataChanges:!0},(function(t){e(Object(l.a)({id:t.id},t.data()))}));case 5:e(n);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"componentDidMount",value:function(){var e=this.props.setCurrentUser;this.unsubscribeFromAuth=L.onAuthStateChanged(function(){var t=Object(m.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=5;break}return t.next=3,N(n);case 3:t.sent.onSnapshot((function(t){e(Object(l.a)({id:t.id},t.data()))}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"componentWillUnmount",value:function(){this.unsubscribeFromAuth()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"App"},r.a.createElement(q,null),r.a.createElement(b.d,null,r.a.createElement(b.b,{exact:!0,path:"/publiclist",component:ie}),r.a.createElement(b.b,{path:"/",render:function(){return e.props.currentUser?r.a.createElement(ce,null):r.a.createElement(he,null)}})),r.a.createElement(de,null))}}]),n}(r.a.Component),ve=Object(M.b)({currentUser:W}),ge=Object(v.b)(ve,(function(e){return{setCurrentUser:function(t){return e(Y(t))}}}))(be),Ee=n(23),xe=n(46),ye=n.n(xe),we={currentUser:null},Oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case H:case J:case K:return Object(l.a)(Object(l.a)({},e),{},{currentUser:t.payload});default:return e}},je={currentList:[]},ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Z:return console.log("try",t),Object(l.a)(Object(l.a)({},e),{},{currentList:t.payload});default:return e}},Ce=Object(Ee.c)({user:Oe,list:ke}),Ne=[ye.a],Se=Object(Ee.d)(Ce,Ee.a.apply(void 0,Ne));s.a.render(r.a.createElement(v.a,{store:Se},r.a.createElement(u.a,null,r.a.createElement(ge,null))),document.getElementById("root"))}},[[50,1,2]]]);
//# sourceMappingURL=main.b96c939d.chunk.js.map