(this.webpackJsonptodolist=this.webpackJsonptodolist||[]).push([[0],{50:function(e,t,n){e.exports=n(79)},55:function(e,t,n){},61:function(e,t,n){},62:function(e,t,n){},69:function(e,t,n){},70:function(e,t,n){},71:function(e,t,n){},72:function(e,t,n){},73:function(e,t,n){},74:function(e,t,n){},75:function(e,t,n){},76:function(e,t,n){},77:function(e,t,n){},78:function(e,t,n){},79:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(30),s=n.n(c),i=n(25),u=(n(55),n(3)),o=n.n(u),l=n(8),m=n(4),d=n(16),p=n(17),f=n(19),h=n(18),b=n(5),v=n(12);n(61),n(62);function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function E(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var x=r.a.createElement("title",null,"Group"),y=r.a.createElement("desc",null,"Created with Sketch."),w=r.a.createElement("g",{id:"WiP",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},r.a.createElement("g",{id:"Artboard",transform:"translate(-90.000000, -38.000000)"},r.a.createElement("g",{id:"Group",transform:"translate(90.000000, 38.000000)"},r.a.createElement("polygon",{id:"Rectangle",fill:"#808282",points:"3 14 25 26.5 47 14 40.855176 39 9.08421785 39"}),r.a.createElement("polygon",{id:"Triangle",fillOpacity:.262838724,fill:"#101A1A",points:"25 8 40 39 10 39"}),r.a.createElement("circle",{id:"Oval",fill:"#5E6363",cx:2,cy:9,r:2}),r.a.createElement("circle",{id:"Oval",fill:"#5E6363",cx:25,cy:2,r:2}),r.a.createElement("circle",{id:"Oval",fill:"#5E6363",cx:48,cy:9,r:2})))),O=function(e){var t=e.svgRef,n=e.title,a=E(e,["svgRef","title"]);return r.a.createElement("svg",g({width:"50px",height:"39px",viewBox:"0 0 50 39",ref:t},a),void 0===n?x:n?r.a.createElement("title",null,n):null,y,w)},k=r.a.forwardRef((function(e,t){return r.a.createElement(O,g({svgRef:t},e))})),j=(n.p,n(26)),C=n.n(j),N=(n(63),n(66),function(){var e=Object(m.a)(o.a.mark((function e(t,n){var a,r,c,s,i,u,m,d,p;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return a=T.doc("users/".concat(t.uid)),e.next=5,a.get();case 5:if(e.sent.exists){e.next=19;break}return r=t.displayName,c=t.email,s=new Date,e.prev=9,e.next=12,a.set(Object(l.a)({displayName:r,email:c,createdAt:s},n));case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(9),console.log("error creating user",e.t0.message);case 17:e.next=33;break;case 19:return i=T.collection("users/".concat(t.uid,"/lista/")),e.next=22,i.get().then((function(e){return e.docs.map((function(e){return e.data()}))}));case 22:return u=e.sent,m=t.displayName,d=t.email,p=new Date,e.prev=25,e.next=28,a.set(Object(l.a)({displayName:m,email:d,createdAt:p,lista:u},n));case 28:e.next=33;break;case 30:e.prev=30,e.t1=e.catch(25),console.log("error creating user",e.t1.message);case 33:return e.abrupt("return",a);case 34:case"end":return e.stop()}}),e,null,[[9,14],[25,30]])})));return function(t,n){return e.apply(this,arguments)}}()),S=function(){var e=Object(m.a)(o.a.mark((function e(t,n,a,r){var c,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=String((new Date).getTime()),s={text:n,id:c,createdAt:c},e.next=4,T.collection("users/".concat(t.uid,"/lista")).doc(c).set(s).then(Object(m.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("item added!");case 1:case"end":return e.stop()}}),e)})))).catch((function(e){console.log(e)}));case 4:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),U=function(){var e=Object(m.a)(o.a.mark((function e(t,n){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={text:n.text,id:n.id,createdAt:n.id},e.next=3,T.collection("users/".concat(t.uid,"/lista")).doc(n.id).set(a).then((function(e){return e.val()})).catch((function(e){return{errorCode:e.code,errorMessage:e.message}}));case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),A=function(){var e=Object(m.a)(o.a.mark((function e(t,n){var a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=new Date,r={completed:a},console.log(t.uid),0===t){e.next=8;break}return e.next=6,T.collection("users/".concat(t.uid,"/lista")).doc(n.id).update(r).then((function(e){return e.val()})).catch((function(e){return{errorCode:e.code,errorMessage:e.message}}));case 6:e.next=11;break;case 8:return"4hYmPE0ZvhPoHA0kYJaQu8KdrCs2",e.next=11,T.collection("users/".concat("4hYmPE0ZvhPoHA0kYJaQu8KdrCs2","/lista/")).doc(n.id).update(r).then((function(e){console.log("snap",e),e.val()})).catch((function(e){return{errorCode:e.code,errorMessage:e.message}}));case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),I=function(){var e=Object(m.a)(o.a.mark((function e(t){var n,a,r,c,s,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",0);case 2:return n=T.doc("users/".concat(t.uid)),a=T.collection("users/".concat(t.uid,"/lista/")),e.next=6,a.get().then((function(e){return e.docs.map((function(e){return e.data()}))}));case 6:return r=e.sent,c=t.displayName,s=t.email,i=new Date,e.prev=9,e.next=12,n.set({displayName:c,email:s,createdAt:i,lista:r});case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(9),console.log("error creating user",e.t0.message);case 17:case"end":return e.stop()}}),e,null,[[9,14]])})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(m.a)(o.a.mark((function e(t,n){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=T.collection("users/".concat(t.uid,"/lista/")),e.next=3,a.doc(n.id).delete().then((function(){console.log("Item removed!")})).catch((function(e){return e}));case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),D=function(){var e=Object(m.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=T.collection("users"),e.abrupt("return",t.get().then((function(e){return e.docs[0].data()})));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();C.a.initializeApp({apiKey:"AIzaSyDuHTtUoxaEUp7Bc05pmaDE6Quukvp0k1A",authDomain:"udemy-crown-41095.firebaseapp.com",databaseURL:"https://udemy-crown-41095.firebaseio.com",projectId:"udemy-crown-41095",storageBucket:"udemy-crown-41095.appspot.com",messagingSenderId:"468641248743",appId:"1:468641248743:web:f2b938d84adb228955f942",measurementId:"G-H9HBJ6PSFX"});var R=C.a.auth(),T=C.a.firestore(),L=new C.a.auth.GoogleAuthProvider;L.setCustomParameters({prompt:"select_account"});var G=function(){return R.signInWithPopup(L)},M=(C.a,n(10)),_=Object(M.a)([function(e){return e.user}],(function(e){return e.currentUser})),q=Object(M.b)({currentUser:_}),W=Object(v.b)(q)((function(e){e.currentUser,e.hidden;return r.a.createElement("div",{className:"header"},r.a.createElement(i.b,{className:"logo-container",to:"/"},r.a.createElement(k,{className:"logo"})),r.a.createElement("div",{className:"options"}))})),B="SET_CURRENT_USER",F="ADD_USER_ITEM",H="DELETE_USER_ITEM",J=function(e){return{type:B,payload:e}},K=(n(69),n(37)),Y=(n(70),function(e){var t=e.children,n=e.isGoogleSignIn,a=e.inverted,c=e.danger,s=e.success,i=Object(K.a)(e,["children","isGoogleSignIn","inverted","danger","success"]);return r.a.createElement("button",Object.assign({className:" ".concat(a?"inverted":""," ").concat(c?"danger":""," ").concat(s?"success":""," ").concat(n?"google-sign-in":""," custom-button")},i),t)}),z=n(93),Q="SET_CURRENT_LIST",Z=function(e){return{type:Q,payload:e}},V=function(){var e=Object(m.a)(o.a.mark((function e(t,n){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!R.currentUser){e.next=23;break}a=R.currentUser,e.t0=n,e.next="deleteItem"===e.t0?6:"updateItem"===e.t0?9:"completeItem"===e.t0?12:"Incomplete"===e.t0?15:18;break;case 6:return e.next=8,P(a,t);case 8:return e.abrupt("break",19);case 9:return e.next=11,U(a,t);case 11:return e.abrupt("break",19);case 12:return e.next=14,A(a,t);case 14:return e.abrupt("break",19);case 15:return e.next=17,U(a,t);case 17:return e.abrupt("break",19);case 18:return e.abrupt("return",!1);case 19:return e.next=21,I(a).then((function(e){J({id:""}),Z({id:""})}));case 21:e.next=32;break;case 23:e.t1=n,e.next="completeItem"===e.t1?26:29;break;case 26:return e.next=28,A(0,t);case 28:return e.abrupt("break",30);case 29:return e.abrupt("return",!1);case 30:return e.next=32,I(a).then((function(e){J({id:e.id}),Z({id:e.id})}));case 32:e.next=37;break;case 34:e.prev=34,e.t2=e.catch(0),console.error(e.t2);case 37:case"end":return e.stop()}}),e,null,[[0,34]])})));return function(t,n){return e.apply(this,arguments)}}(),X=Object(M.b)({currentUser:_}),$=Object(v.b)(X)((function(e){var t=e.item,n=e.currentUser,a=e.completed;return r.a.createElement("div",{className:" ".concat(a||""," collection-item")},r.a.createElement("div",{className:"collection-footer"},r.a.createElement(z.a,{item:!0,xs:6},t?r.a.createElement("div",{className:"name"},t.text):""),r.a.createElement(z.a,{item:!0,sm:6},r.a.createElement("div",{className:"inline-buttons"},n?r.a.createElement("div",null,r.a.createElement(Y,{danger:!0,onClick:function(){return V(t,"deleteItem")}},"Delete"),r.a.createElement(Y,{danger:!0,onClick:function(){return V(t,"Incomplete")}},"Incomplete")):"",t.completed?r.a.createElement("h2",null,"Vamos ter esse!"):r.a.createElement(Y,{success:!0,onClick:function(){return V(t,"completeItem")}},"Escolher")))))})),ee=(n(71),n(21)),te=(n(72),n(73),function(e){var t=e.handleChange,n=e.label,a=Object(K.a)(e,["handleChange","label"]);return r.a.createElement("div",{className:"group"},r.a.createElement("input",Object.assign({className:"form-input",onChange:t},a)),n?r.a.createElement("label",{className:"".concat(a.value.length?"shrink":""," form-input-label")},n):null)}),ne=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).handleSubmit=function(){var e=Object(m.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,n=R.currentUser,e.next=5,S(n,a.state.text,a.state.title,a.state.date);case 5:return a.setState({}),e.next=8,I(n).then((function(e){console.log(e),J(Object(l.a)({},e.data()))}));case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),a.handleChange=function(e){var t=e.target,n=t.value,r=t.name;a.setState(Object(ee.a)({},r,n))},a.state={text:"",title:"",date:""},a}return Object(p.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"new-task"},r.a.createElement("h2",null,"Create a new task"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(te,{name:"title",type:"text",label:"Title",handleChange:this.handleChange,value:this.state.title,required:!0}),r.a.createElement(te,{name:"text",type:"text",label:"Name",handleChange:this.handleChange,value:this.state.text,required:!0}),r.a.createElement("div",{className:"buttons"},r.a.createElement(Y,{inverted:!0,type:"submit"},"Add Task"))))}}]),n}(r.a.Component),ae=Object(M.b)({currentUser:_}),re=Object(v.b)(ae)((function(e){var t=e.currentUser?e.currentUser.lista:null;return t=t===[]||""===t?null:t,r.a.createElement("div",{className:"todo-page"},e.currentUser?r.a.createElement(ne,null):r.a.createElement(b.a,{to:"../signin"}),r.a.createElement("div",{className:"collection"},r.a.createElement("h2",null,"Tasks"),t?t.map((function(e){return r.a.createElement($,{key:e.id,item:e,completed:e.completed?"completed":""})})):r.a.createElement("div",{className:"no-list-div"},r.a.createElement("h2",null,"No tasks available at the moment."))))})),ce=(n(74),Object(M.a)([function(e){return e.list}],(function(e){return e.currentList}))),se=function(){var e=Object(m.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:D().then((function(e){Z(e.lista)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ie=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"componentWillMount",value:function(){var e=this.props.setCurrentList;D().then((function(t){e(t.lista)}))}},{key:"componentDidMount",value:function(){var e=this.props.setCurrentList;D().then((function(t){e(t.lista)}))}},{key:"render",value:function(){var e=this.props.currentList;return console.log("data",e),r.a.createElement("div",{className:"public_list"},r.a.createElement("div",{className:"title"},r.a.createElement("h1",null,"Kaique & Nat\xe1lia")),r.a.createElement("div",{className:"collection"},r.a.createElement(Y,{success:!0,onClick:function(){return se()}},"Atualizar Lista"),e?e.map((function(e){return r.a.createElement($,{key:e.id,item:e,completed:e.completed?"completed":""})})):r.a.createElement("div",{className:"no-list-div"})))}}]),n}(r.a.Component),ue=Object(M.b)({currentList:ce}),oe=Object(v.b)(ue,(function(e){return{setCurrentList:function(t){return e(Z(t))}}}))(ie),le=(n(75),n(95)),me=n(96),de=Object(le.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(1),textAlign:"center",color:e.palette.text.secondary,square:!1}}})),pe=function(){var e=de();return r.a.createElement("div",{className:"footer"},r.a.createElement(z.a,{container:!0,spacing:3},r.a.createElement(z.a,{item:!0,xs:!0},r.a.createElement(me.a,{className:e.paper},"Creator: Kaique"))))},fe=(n(76),n(77),function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).handleSubmit=function(){var e=Object(m.a)(o.a.mark((function e(t){var n,r,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=a.state,r=n.email,c=n.password,e.prev=2,e.next=5,R.signInWithEmailAndPassword(r,c);case 5:a.setState({email:"",password:""}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),a.handleChange=function(e){var t=e.target,n=t.value,r=t.name;a.setState(Object(ee.a)({},r,n))},a.state={email:"",password:""},a}return Object(p.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"sign-in"},r.a.createElement("h2",null,"Sign In"),r.a.createElement("span",null,"With Email and Password."),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(te,{name:"email",type:"email",label:"Email",handleChange:this.handleChange,value:this.state.email}),r.a.createElement(te,{name:"password",type:"password",label:"Password",handleChange:this.handleChange,value:this.state.password}),r.a.createElement("div",{className:"buttons"},r.a.createElement(Y,{type:"submit"},"Sign In"),r.a.createElement(Y,{onClick:G,isGoogleSignIn:!0},"Sign with Google"))))}}]),n}(r.a.Component)),he=(n(78),function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(){var e;return Object(d.a)(this,n),(e=t.call(this)).handleSubmit=function(){var t=Object(m.a)(o.a.mark((function t(n){var a,r,c,s,i,u,l;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),a=e.state,r=a.displayName,c=a.email,s=a.password,i=a.confirmPassword,s===i){t.next=5;break}return alert("Password dont match"),t.abrupt("return");case 5:return t.prev=5,t.next=8,R.createUserWithEmailAndPassword(c,s);case 8:return u=t.sent,l=u.user,t.next=12,N(l,{displayName:r});case 12:e.setState({displayName:"",email:"",password:"",confirmPassword:""}),t.next=19;break;case 15:t.prev=15,t.t0=t.catch(5),"auth/email-already-in-use"===t.t0.code&&alert("Email already registered!"),console.error(t.t0);case 19:case"end":return t.stop()}}),t,null,[[5,15]])})));return function(e){return t.apply(this,arguments)}}(),e.handleChange=function(t){var n=t.target,a=n.name,r=n.value;e.setState(Object(ee.a)({},a,r))},e.state={displayName:"",email:"",password:"",confirmPassword:""},e}return Object(p.a)(n,[{key:"render",value:function(){var e=this.state,t=e.displayName,n=e.email,a=e.password,c=e.confirmPassword;return r.a.createElement("div",{className:"sign-up"},r.a.createElement("h2",{className:"title"},"Create Account"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(te,{type:"text",name:"displayName",value:t,onChange:this.handleChange,label:"Nome",required:!0}),r.a.createElement(te,{type:"text",name:"email",value:n,onChange:this.handleChange,label:"Email",required:!0}),r.a.createElement(te,{type:"password",name:"password",value:a,onChange:this.handleChange,label:"Password",required:!0}),r.a.createElement(te,{type:"password",name:"confirmPassword",value:c,onChange:this.handleChange,label:"Confirm your Password",required:!0}),r.a.createElement("div",{className:"buttons"},r.a.createElement(Y,{type:"submit"},"SIGN UP"))))}}]),n}(r.a.Component)),be=function(){return r.a.createElement("div",{className:"sign-in-and-sign-up"},r.a.createElement(fe,null),r.a.createElement(he,null))},ve=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).unsubscribeFromAuth=null,e}return Object(p.a)(n,[{key:"componentWillMount",value:function(){var e=this.props.setCurrentUser;this.unsubscribeFromAuth=R.onAuthStateChanged(function(){var t=Object(m.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=5;break}return t.next=3,N(n);case 3:t.sent.onSnapshot({includeMetadataChanges:!0},(function(t){e(Object(l.a)({id:t.id},t.data()))}));case 5:e(n);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"componentDidMount",value:function(){var e=this.props.setCurrentUser;this.unsubscribeFromAuth=R.onAuthStateChanged(function(){var t=Object(m.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=5;break}return t.next=3,N(n);case 3:t.sent.onSnapshot((function(t){e(Object(l.a)({id:t.id},t.data()))}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"componentWillUnmount",value:function(){this.unsubscribeFromAuth()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"App"},r.a.createElement(W,null),r.a.createElement(b.d,null,r.a.createElement(b.b,{path:"/publiclist",component:oe}),r.a.createElement(b.b,{path:"/",render:function(){return e.props.currentUser?r.a.createElement(re,null):r.a.createElement(be,null)}})),r.a.createElement(pe,null))}}]),n}(r.a.Component),ge=Object(M.b)({currentUser:_}),Ee=Object(v.b)(ge,(function(e){return{setCurrentUser:function(t){return e(J(t))}}}))(ve),xe=n(23),ye=n(46),we=n.n(ye),Oe={currentUser:null},ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case B:case F:case H:return Object(l.a)(Object(l.a)({},e),{},{currentUser:t.payload});default:return e}},je={currentList:[]},Ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Q:return Object(l.a)(Object(l.a)({},e),{},{currentList:t.payload});default:return e}},Ne=Object(xe.c)({user:ke,list:Ce}),Se=[we.a],Ue=Object(xe.d)(Ne,xe.a.apply(void 0,Se));s.a.render(r.a.createElement(v.a,{store:Ue},r.a.createElement(i.a,null,r.a.createElement(Ee,null))),document.getElementById("root"))}},[[50,1,2]]]);
//# sourceMappingURL=main.55aec3d8.chunk.js.map